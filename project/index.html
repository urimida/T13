<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Liquid Glass Magnifier</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- SVG Filter 정의 -->
    <svg width="0" height="0" style="position: absolute">
      <defs>
        <filter
          id="liquid-glass-filter"
          filterUnits="userSpaceOnUse"
          primitiveUnits="userSpaceOnUse"
        >
          <feImage
            id="displacement-map"
            x="0"
            y="0"
            width="200"
            height="200"
            preserveAspectRatio="none"
          />
          <feDisplacementMap
            in="SourceGraphic"
            in2="displacement-map"
            scale="50"
            xChannelSelector="R"
            yChannelSelector="G"
          />
        </filter>
      </defs>
    </svg>

    <!-- 배경 -->
    <div id="background"></div>

    <!-- 화면 전체 SVG 렌즈 오버레이 -->
    <svg
      id="lens-svg"
      class="lens"
      width="0"
      height="0"
      style="
        position: fixed;
        inset: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: 5;
      "
    >
      <defs>
        <clipPath id="lens-clip">
          <path id="lens-path" />
        </clipPath>
      </defs>
      <image
        id="lens-image"
        href="./assets/imgs/background.png"
        x="0"
        y="0"
        width="100"
        height="100"
        preserveAspectRatio="none"
        clip-path="url(#lens-clip)"
        filter="url(#liquid-glass-filter)"
      />
      <path
        id="lens-stroke"
        fill="none"
        stroke="rgba(255,255,255,0.6)"
        stroke-width="1.2"
      />
    </svg>

    <!-- Displacement Map 생성용 숨겨진 Canvas -->
    <canvas id="displacement-canvas" style="display: none"></canvas>

    <script src="script.js"></script>
  </body>
</html>
